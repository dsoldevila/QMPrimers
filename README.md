# QMPrimers
A tool to select the best primers to perform quantitative metabarcoding studies. It aims to be used by all kind of users as it comes with a graphical interface. It has two main stages:
* **MATCHING:** Given a genome file and a primer pairs file, it matches every genome sequence with every primer pair and generates a template containing the best matches found as well as additional information. A part from the template, it also generates a table containing the genomes sequences and primer pairs that didn't match and another file containing statistics. If the output directory was "output", the program would generate respectively output_positive.csv, output_negative.csv and output_stats.txt.

* **SIMULATION:** Given the template (output_positive.csv) generated by the MATCHING (or any other program as long as it has the required format), performs a simulated amplification (PCR). At each step of the simulation the program generates a random sample of species with random proportions and calculates the amplification efficiency for every species for every primer pair*. Once the program has the initial and final relative proportions calcultes the correlation (specifically Pearson correlation coefficient). With this raw data composed of a correlation coefficient for every step for every primer, some basic statistics are generated: mean, mediam, max, min, etc).

\* Actually it is the other way around: for every primer pair, n steps of the simulation are performed. 

**WARNING:** This program is still in development, so expect bugs and crashes. Its use is still not recommended!

# Installation
QMPrimers can e executed as a Python script or as a one-file executable.

## As a Python script
To run it as a Python script it is mandatory to use Python3.x, as well as to install the following dependencies.

**Dependencies:**
- [Biopython](https://biopython.org)
- [Numpy](http://www.numpy.org)
- [Pandas](https://pandas.pydata.org)

Once fullfilled the requirements, [execute the program](#run-as-a-python-script).

## As an executable
Download the program via one of the links below, dependiing on your platform:
- insert link to Windows10 executable
- insert link to Linux executable
- insert link to MacOS executable

Once downloaded the program, [execute it](#run-as-an-executable).

# Wiki
## First steps

### Run as a Python script
- To execute the program in GUI mode, just type in a terminal:
```bash
python3.X QMPrimers
#where X depends on your python version
```

- To execute the program in command line mode, type in a terminal:
```bash
python3.X QMPrimers <paramters....>
```
### Run as an executable
- To execute the program (in GUI mode) double click the program file.

- To execute the program in command line mode, type in a terminal:
```bash
./QMPrimers <paramters....>
```
## How to use the program
### Matching
Everything related to the Matching is explained [here](https://github.com/dsoldevila/QMPrimers/wiki/Matching).

### Simulation
Everything related to the Simulation is explained [here](https://github.com/dsoldevila/QMPrimers/wiki/Simulation).

## Development
For the ones that one to known what is going on under the hood, you can check this [page](https://github.com/dsoldevila/QMPrimers/wiki/Implementation)


